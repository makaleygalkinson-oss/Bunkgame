# CYBERPUNK 2077 - ะกะธััะตะผะฐ ะฐะฒัะพัะธะทะฐัะธะธ

ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะฐั ัะธััะตะผะฐ ัะตะณะธัััะฐัะธะธ ะธ ะฐะฒัะพัะธะทะฐัะธะธ ัะตัะตะท Supabase Auth ะดะปั Next.js 15.

## ๐ ะัััััะน ััะฐัั

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
npm install
```

### 2. ะะฐัััะพะนะบะฐ Supabase

1. ะกะพะทะดะฐะนัะต ะฟัะพะตะบั ะฝะฐ [Supabase](https://app.supabase.com)
2. ะกะบะพะฟะธััะนัะต `SUPABASE_URL` ะธ `SUPABASE_ANON_KEY` ะธะท ะฝะฐัััะพะตะบ ะฟัะพะตะบัะฐ (Settings > API)
3. ะกะพะทะดะฐะนัะต ัะฐะนะป `.env.local` ะธ ะดะพะฑะฐะฒััะต:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. ะะฐัััะพะนะบะฐ ะฑะฐะทั ะดะฐะฝะฝัั

ะ Supabase Dashboard ะฟะตัะตะนะดะธัะต ะฒ SQL Editor ะธ ะฒัะฟะพะปะฝะธัะต SQL ะธะท ัะฐะนะปะฐ `supabase/migrations/001_create_profiles_table.sql`:

```sql
CREATE TABLE IF NOT EXISTS public.profiles (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  email TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own profile"
  ON public.profiles FOR SELECT
  USING (auth.uid() = id);

CREATE POLICY "Users can update own profile"
  ON public.profiles FOR UPDATE
  USING (auth.uid() = id);

CREATE POLICY "Users can insert own profile"
  ON public.profiles FOR INSERT
  WITH CHECK (auth.uid() = id);
```

### 4. ะะฐัััะพะนะบะฐ OAuth ะฟัะพะฒะฐะนะดะตัะพะฒ (ะพะฟัะธะพะฝะฐะปัะฝะพ)

#### Google OAuth:
1. ะกะพะทะดะฐะนัะต ะฟัะพะตะบั ะฒ [Google Cloud Console](https://console.cloud.google.com/)
2. ะะบะปััะธัะต OAuth 2.0 ะธ ัะพะทะดะฐะนัะต Client ID (ัะธะฟ: Web application)
3. ะะพะฑะฐะฒััะต Redirect URL: `https://YOUR_PROJECT_REF.supabase.co/auth/v1/callback`
   - ะะฐะผะตะฝะธัะต `YOUR_PROJECT_REF` ะฝะฐ ะฒะฐั Project Reference ะธะท Supabase
4. ะกะบะพะฟะธััะนัะต Client ID ะธ Client Secret
5. ะ Supabase Dashboard: Authentication > Providers > Google
6. ะะบะปััะธัะต Google ะฟัะพะฒะฐะนะดะตั ะธ ะฒััะฐะฒััะต Client ID ะธ Client Secret

> ๐ **ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั:** ะกะผ. ัะฐะนะป `GOOGLE_OAUTH_SETUP.md`

#### VK OAuth (ะตัะปะธ ะดะพัััะฟะตะฝ):
1. ะ Supabase Dashboard: Authentication > Providers > VK
2. ะะบะปััะธัะต VK ะฟัะพะฒะฐะนะดะตั
3. ะะฐัััะพะนัะต ัะพะณะปะฐัะฝะพ ะดะพะบัะผะตะฝัะฐัะธะธ Supabase

### 5. ะะฐะฟััะบ ะฟัะพะตะบัะฐ

#### ๐ ะะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั:

**ะจะฐะณ 1: ะัะพะฒะตัััะต ะฝะฐะปะธัะธะต Node.js**

ะฃะฑะตะดะธัะตัั, ััะพ ั ะฒะฐั ัััะฐะฝะพะฒะปะตะฝ Node.js (ะฒะตััะธั 18 ะธะปะธ ะฒััะต):

```bash
node --version
npm --version
```

ะัะปะธ Node.js ะฝะต ัััะฐะฝะพะฒะปะตะฝ, ัะบะฐัะฐะนัะต ะตะณะพ ั [nodejs.org](https://nodejs.org/)

**ะจะฐะณ 2: ะัะบัะพะนัะต ัะตัะผะธะฝะฐะป ะฒ ะฟะฐะฟะบะต ะฟัะพะตะบัะฐ**

- **Windows**: ะัะบัะพะนัะต PowerShell ะธะปะธ Command Prompt ะฒ ะฟะฐะฟะบะต ะฟัะพะตะบัะฐ
- **Mac/Linux**: ะัะบัะพะนัะต Terminal ะฒ ะฟะฐะฟะบะต ะฟัะพะตะบัะฐ

**ะจะฐะณ 3: ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ (ะตัะปะธ ะตัะต ะฝะต ัััะฐะฝะพะฒะปะตะฝั)**

```bash
npm install
```

ะญัะฐ ะบะพะผะฐะฝะดะฐ ัััะฐะฝะพะฒะธั ะฒัะต ะฝะตะพะฑัะพะดะธะผัะต ะฟะฐะบะตัั ะธะท `package.json`.

**ะจะฐะณ 4: ะฃะฑะตะดะธัะตัั, ััะพ ัะฐะนะป `.env.local` ะฝะฐัััะพะตะฝ**

ะัะพะฒะตัััะต, ััะพ ัะฐะนะป `.env.local` ัััะตััะฒัะตั ะธ ัะพะดะตัะถะธั ะฒะฐัะธ ะบะปััะธ Supabase:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

**ะจะฐะณ 5: ะะฐะฟัััะธัะต ะฟัะพะตะบั**

```bash
npm run dev
```

ะะพัะปะต ะฒัะฟะพะปะฝะตะฝะธั ะบะพะผะฐะฝะดั ะฒั ัะฒะธะดะธัะต ัะพะพะฑัะตะฝะธะต:

```
  โฒ Next.js 15.x.x
  - Local:        http://localhost:3000
  - Ready in Xs
```

**ะจะฐะณ 6: ะัะบัะพะนัะต ะฑัะฐัะทะตั**

ะะตัะตะนะดะธัะต ะฟะพ ะฐะดัะตัั: [http://localhost:3000](http://localhost:3000)

#### โ๏ธ ะะพะทะผะพะถะฝัะต ะฟัะพะฑะปะตะผั:

**ะัะธะฑะบะฐ: "npm run dev" ะฝะต ัะฐะฑะพัะฐะตั**
- ะฃะฑะตะดะธัะตัั, ััะพ ะฒั ะฝะฐัะพะดะธัะตัั ะฒ ะฟัะฐะฒะธะปัะฝะพะน ะฟะฐะฟะบะต ะฟัะพะตะบัะฐ
- ะัะพะฒะตัััะต, ััะพ `package.json` ัััะตััะฒัะตั ะธ ัะพะดะตัะถะธั ัะบัะธะฟั `dev`
- ะะพะฟัะพะฑัะนัะต ัะดะฐะปะธัั `node_modules` ะธ `package-lock.json`, ะทะฐัะตะผ ะฒัะฟะพะปะฝะธัะต `npm install` ะทะฐะฝะพะฒะพ

**ะัะธะฑะบะฐ: "Port 3000 is already in use"**
- ะะฐะบัะพะนัะต ะดััะณะพะต ะฟัะธะปะพะถะตะฝะธะต, ะธัะฟะพะปัะทัััะตะต ะฟะพัั 3000
- ะะปะธ ะทะฐะฟัััะธัะต ะฝะฐ ะดััะณะพะผ ะฟะพััั: `npm run dev -- -p 3001`

**ะัะธะฑะบะฐ: "Cannot find module"**
- ะัะฟะพะปะฝะธัะต `npm install` ะดะปั ัััะฐะฝะพะฒะบะธ ะฒัะตั ะทะฐะฒะธัะธะผะพััะตะน

**ะัะพะตะบั ะฝะต ะทะฐะฟััะบะฐะตััั**
- ะัะพะฒะตัััะต, ััะพ ัะฐะนะป `.env.local` ะฝะฐัััะพะตะฝ ะฟัะฐะฒะธะปัะฝะพ
- ะฃะฑะตะดะธัะตัั, ััะพ ะฒัะต ะทะฐะฒะธัะธะผะพััะธ ัััะฐะฝะพะฒะปะตะฝั: `npm install`

## ๐ ะะตะฟะปะพะน ะฝะฐ Vercel

### ะัััััะน ััะฐัั

1. **ะะพะดะบะปััะธัะต ะฟัะพะตะบั ะบ Vercel:**
   - ะะฐะนะดะธัะต ะฝะฐ [vercel.com](https://vercel.com)
   - ะะฐะถะผะธัะต **"Add New..."** โ **"Project"**
   - ะะผะฟะพััะธััะนัะต ะฒะฐั GitHub ัะตะฟะพะทะธัะพัะธะน ะธะปะธ ะทะฐะณััะทะธัะต ะฟัะพะตะบั

2. **ะะพะฑะฐะฒััะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:**
   ะ ัะฐะทะดะตะปะต **"Environment Variables"** ะดะพะฑะฐะฒััะต:
   ```
   NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
   ```
   ะัะฑะตัะธัะต **Production**, **Preview** ะธ **Development** ะดะปั ะบะฐะถะดะพะน ะฟะตัะตะผะตะฝะฝะพะน.

3. **ะะตะฟะปะพะน:**
   - ะะฐะถะผะธัะต **"Deploy"**
   - ะะพะถะดะธัะตัั ะทะฐะฒะตััะตะฝะธั ัะฑะพัะบะธ

4. **ะะฑะฝะพะฒะธัะต Supabase Redirect URLs:**
   ะะพัะปะต ะดะตะฟะปะพั ะฟะพะปััะธัะต ะฒะฐั ะดะพะผะตะฝ Vercel (ะฝะฐะฟัะธะผะตั: `https://your-project.vercel.app`)
   - ะ Supabase Dashboard: **Authentication** โ **URL Configuration**
   - ะะพะฑะฐะฒััะต ะฒ **Redirect URLs:**
     ```
     https://your-project.vercel.app/auth/callback
     https://your-project.vercel.app/**
     ```
   - ะะฑะฝะพะฒะธัะต **Site URL:** `https://your-project.vercel.app`

> โก **ะัััััะน ัะตะบะปะธัั:** ะกะผ. ัะฐะนะป `VERCEL_QUICK_START.md`  
> ๐ **ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั:** ะกะผ. ัะฐะนะป `VERCEL_DEPLOY.md`

### ะะตะฟะปะพะน ัะตัะตะท Vercel CLI

```bash
# ะฃััะฐะฝะพะฒะธัะต Vercel CLI
npm i -g vercel

# ะะพะนะดะธัะต ะฒ Vercel
vercel login

# ะะตะฟะปะพะน
vercel

# ะะตะฟะปะพะน ะฒ ะฟัะพะดะฐะบัะฝ
vercel --prod
```

## โจ ะคัะฝะบัะธะพะฝะฐะป

- โ ะะตะณะธัััะฐัะธั ะฟะพ email + ะฟะฐัะพะปั
- โ ะัะพะด ะฟะพ email + ะฟะฐัะพะปั
- โ ะัะพะด ัะตัะตะท Google OAuth
- โ ะะฝะพะฝะธะผะฝัะน ะฒัะพะด (ะดะปั ะฑััััะพะณะพ ะดะพัััะฟะฐ ะบ ะธะณัะต)
- โ ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ะฟัะพัะธะปั ะฒ ะะ
- โ ะะฐัะธัะฐ ะผะฐัััััะพะฒ (middleware)
- โ ะะฒัะพะผะฐัะธัะตัะบะธะน ัะตะดะธัะตะบั ะฝะฐ /lobby ะฟะพัะปะต ะฒัะพะดะฐ
- โ Toast ัะฒะตะดะพะผะปะตะฝะธั (sonner)
- โ ะกะพะฒัะตะผะตะฝะฝัะน UI ะฒ ััะธะปะต Cyberpunk

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโ app/
โ   โโโ auth/
โ   โ   โโโ callback/        # OAuth callback handler
โ   โโโ lobby/               # ะะฐัะธััะฝะฝะฐั ัััะฐะฝะธัะฐ
โ   โโโ globals.css          # ะะปะพะฑะฐะปัะฝัะต ััะธะปะธ
โ   โโโ layout.tsx           # Root layout
โ   โโโ page.tsx             # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
โโโ components/
โ   โโโ Header.tsx           # ะจะฐะฟะบะฐ ั ะบะฝะพะฟะบะฐะผะธ ะฐะฒัะพัะธะทะฐัะธะธ
โ   โโโ Hero.tsx             # Hero ัะตะบัะธั
โ   โโโ NewsSection.tsx      # ะกะตะบัะธั ะฝะพะฒะพััะตะน
โโโ lib/
โ   โโโ actions/
โ   โ   โโโ profile.ts       # Server action ะดะปั ัะพะทะดะฐะฝะธั ะฟัะพัะธะปะตะน
โ   โโโ supabase/
โ       โโโ client.ts        # Supabase ะบะปะธะตะฝั ะดะปั ะบะปะธะตะฝัะฐ
โ       โโโ server.ts        # Supabase ะบะปะธะตะฝั ะดะปั ัะตัะฒะตัะฐ
โ       โโโ middleware.ts    # Middleware ะดะปั ะพะฑะฝะพะฒะปะตะฝะธั ัะตััะธะธ
โโโ hooks/
โ   โโโ useAuth.tsx          # ะฅัะบ ะดะปั ัะฐะฑะพัั ั ะฐะฒัะพัะธะทะฐัะธะตะน
โโโ middleware.ts            # Next.js middleware
โโโ supabase/
    โโโ migrations/          # SQL ะผะธะณัะฐัะธะธ
```

## ๐ ะะฐัะธัะฐ ะผะฐัััััะพะฒ

ะัะต ะผะฐัััััั ะบัะพะผะต `/`, `/login`, `/register` ะทะฐัะธัะตะฝั middleware. ะะตะฐะฒัะพัะธะทะพะฒะฐะฝะฝัะต ะฟะพะปัะทะพะฒะฐัะตะปะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟะตัะตะฝะฐะฟัะฐะฒะปััััั ะฝะฐ ะณะปะฐะฒะฝัั ัััะฐะฝะธัั.

## ๐จ ะกัะธะปะธะทะฐัะธั

ะัะพะตะบั ะธัะฟะพะปัะทัะตั Tailwind CSS ั ะบะฐััะพะผะฝัะผะธ ัะฒะตัะฐะผะธ ะฒ ััะธะปะต Cyberpunk 2077. ะัะต ััะธะปะธ ะพะฟัะตะดะตะปะตะฝั ะฒ `tailwind.config.ts` ะธ `app/globals.css`.

## ๐ ะัะธะผะตัะฐะฝะธั

- VK OAuth ะผะพะถะตั ะฑััั ะฝะตะดะพัััะฟะตะฝ ะฒ ะฝะตะบะพัะพััั ัะตะณะธะพะฝะฐั (ะทะฐะบะพะผะผะตะฝัะธัะพะฒะฐะฝ ะฒ ะบะพะดะต)
- ะะฝะพะฝะธะผะฝัะน ะฒัะพะด ัะพะทะดะฐัั ะฒัะตะผะตะฝะฝัั ัะตััะธั ะฑะตะท email
- ะัะพัะธะปะธ ัะพะทะดะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธ ะปัะฑะพะน ัะพัะผะต ะฒัะพะดะฐ
- ะัะต ะดะฐะฝะฝัะต ะฟัะพัะธะปะตะน ะทะฐัะธัะตะฝั Row Level Security (RLS)

## ๐ ะขะตัะฝะพะปะพะณะธะธ

- Next.js 15 (App Router)
- TypeScript
- Tailwind CSS
- Supabase Auth
- Sonner (Toast ัะฒะตะดะพะผะปะตะฝะธั)

